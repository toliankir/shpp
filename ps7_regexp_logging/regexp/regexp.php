<?php
header('Content-type: application/json');
$response = [
    'status' => false
];

$regExp = [
    'ip' => '/^(([0-9]{1,2}|[0-1][0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}(([0-9]{1,2}|[0-1][0-9]{2}|2[0-4][0-9]|25[0-5])$)/',
    'email' => '/^[^ @]+@[^ @]+\.[^ @\d]{2,}$/',
    'url' => '/^(\w+:[\/]{2})[^ @]+\.[^ @\d]{2,}$/',
    'date' => '/^(([0-2][0-9]|3[0-1])\/(0[13578]|1[02])|((([0-2][0-9]|30)\/(0[469]|11)))|([0-2][0-9]\/02))\/[0-9]{4}$/',
    'time' => '/^([0-1]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/'];

if (isset($_POST['regexp'], $_POST['str'])) {
    if (preg_match($regExp[$_POST['regexp']], $_POST['str']) === 1) {
        $response['status'] = true;
    }
}

echo json_encode($response);
